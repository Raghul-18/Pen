<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soulfully</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Floating mute button */
        #mute-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ff5a5f;
            color: white;
            border: none;
            border-radius: 50%;
            padding: 15px;
            font-size: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="loading-screen">
        <div class="loading-content">
            <h1 class="loading-title">Soulfully
                <div class="aurora">
                    <div class="aurora__item"></div>
                    <div class="aurora__item"></div>
                    <div class="aurora__item"></div>
                    <div class="aurora__item"></div>
                </div>
            </h1>
        </div>
    </div>

    <div id="main-content">
        <div class="mobile-view">
            <div class="header">
                <h1 class="title">Swipe to<br>Read and Realise</h1>
                <p class="subtitle">The Unspoken thoughts and feelings<br>Take your time, read and realise soulfully</p>
            </div>

            <div class="card-container">
                <div class="card-carousel">
                    <!-- Cards will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <button id="mute-btn">ðŸ”Š</button>

    <script>
        const cardContents = [
            { content: "I don't understand one thing. We all say we moved on and still visit their profile picture why?.", song: "music/music1.mp3" },
            { content: "I don't actually like dates. I get awkward as I never know what to do.", song: "song2.mp3" },
            { content: "Searching songs for post is a pain in the ass.", song: "song3.mp3" },
            { content: "Some souls suffer alone, fight alone. They heal, they win.", song: "song4.mp3" },
            { content: "My flex is I can heal me without anyone's help.", song: "song5.mp3" },
            { content: "Sorry, I didnâ€™t see things the way you see me. Youâ€™re my good friend. But how do I call those happy memories? You love the way I call you. Our late-night calls, texting even when we're busy, and you saying I'm the right one for you. You showed my pictures to your mom, telling her I'm the most beautiful girl.", song: "song6.mp3" },
            { content: "Being loved is the minimum. Make sure you're also valued, respected, prioritized, desired, heard, understood and supported.", song: "song7.mp3" },
            { content: "Don't force anything. Always listen to your heart and take decisions wisely.", song: "song8.mp3" },
            { content: "When a girl wants to change her life. She cuts her hair. When a woman wants to change her life. She cuts people.", song: "song9.mp3" },
            { content: "I got no time forcing anything. You talk, I talk, You don't, I don't.", song: "song10.mp3" },
            { content: "If I let you go, it's because I need to be happy, with or without you in my life.", song: "song11.mp3" },
            { content: "Time takes us where we need to.", song: "song12.mp3" },
            { content: "You will realise when you read old chats. You have gone through a lot by begging the wrong one in your life and you believed all the fake promises. But still you didn't give up on yourself. Happy days are coming, keep shining.", song: "song13.mp3" },
            { content: "If it is not love then why do you care.", song: "song14.mp3" },
            { content: "Okay, they never admit their mistake, but deep inside they know what they did.", song: "song15.mp3" },
            { content: "If you feel heavy right now just sleep. Good Night.", song: "song16.mp3" },
            { content: "Those unforgettable eye contact..", song: "song17.mp3" },
            { content: "If you don't treat her right, don't be pissed or surprised when someone else does. Taking a woman for granted leads to just one place, Her finding someone who appreciates her for HER.", song: "song18.mp3" },
            { content: "Me wondering how I survived all those tough times in my life I thought I never would, It was very hard for me to wake up the next day. Don't know why I loved so much without getting anything in return. Which is very stupid now. Now I'm here not regretting but thankful for the lesson. They changed me into who I am today.", song: "song19.mp3" },
            { content: "I hate that I have to heal from things that weren't my fault.", song: "song20.mp3" },
            { content: "If a woman doesn't feel safe around you, you have failed as a man. It is your responsibility to drop her home safe without abusing her mentally and physically.", song: "song21.mp3" },
            { content: "And suddenly you feel that he is the one.", song: "song22.mp3" },
            { content: "I'm in my calm era. I just pray now and let things be.", song: "song23.mp3" },
            { content: "There is love in holding and, There is love in letting go.", song: "song24.mp3" },
            { content: "Adulting is realising that all you need is a stable income, a supportive partner and a peaceful home.", song: "song25.mp3" },
            { content: "The monster you saw at the end of your relationship is who they really are.", song: "song26.mp3" },
            { content: "When God wants to bless a man, He gives him a quality woman.", song: "song27.mp3" },
            { content: "For a girl, her partner's birthday is basically her second birthday.", song: "song28.mp3" },
            { content: "I might be a little toxic but at least I'm loyal.", song: "song29.mp3" },
            { content: "I hate myself for thinking about you once again.", song: "song30.mp3" },
            { content: "If you treat each other right, just like you did in the beginning, there will never be an end.", song: "song31.mp3" },
        ];

        // Initialize the carousel
        const carousel = document.querySelector('.card-carousel');
        let currentCard = 0;
        let startX = 0;
        let isDragging = false;
        let activeAudio = null; // To keep track of currently playing song

        // Card colors
        const colors = ['#CB9DF0', '#F0C1E1', '#FDDBBB', '#FFF9BF'];

        function updateCards() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.className = 'card';
                if (index === currentCard) {
                    card.classList.add('current');
                } else if (index === (currentCard - 1 + cardContents.length) % cardContents.length) {
                    card.classList.add('prev');
                } else if (index === (currentCard + 1) % cardContents.length) {
                    card.classList.add('next');
                }
            });
        }

        // Create and add cards
        cardContents.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.style.backgroundColor = colors[index % colors.length];
            
            const textDiv = document.createElement('div');
            textDiv.className = 'card-text';
            textDiv.textContent = item.content;
            
            card.appendChild(textDiv);
            carousel.appendChild(card);
        });

        function playSongForCard(cardIndex) {
            // Stop any currently playing audio
            if (activeAudio) {
                activeAudio.pause();
                activeAudio.currentTime = 0;
            }

            // Play the new song
            const song = cardContents[cardIndex].song;
            activeAudio = new Audio(song);
            activeAudio.play();
        }

        // Mute/Unmute functionality
        let isMuted = false;
        const muteButton = document.getElementById('mute-btn');

        muteButton.addEventListener('click', () => {
            isMuted = !isMuted;
            if (isMuted) {
                activeAudio && (activeAudio.muted = true);
                muteButton.textContent = 'ðŸ”‡';
            } else {
                activeAudio && (activeAudio.muted = false);
                muteButton.textContent = 'ðŸ”Š';
            }
        });

        // Touch events
        carousel.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isDragging = true;
        });

        carousel.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            
            const x = e.touches[0].clientX;
            const walk = startX - x;
            
            if (Math.abs(walk) > 20) {
                e.preventDefault();
            }
        }, { passive: false });

        carousel.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            
            isDragging = false;
            const x = e.changedTouches[0].clientX;
            const walk = startX - x;
            
            if (Math.abs(walk) > 50) {
                if (walk > 0) {
                    currentCard = (currentCard + 1) % cardContents.length;
                } else {
                    currentCard = (currentCard - 1 + cardContents.length) % cardContents.length;
                }
                updateCards();
                playSongForCard(currentCard); // Play song for the current card
            }
        });

        // Initial card setup
        updateCards();

        // Loading screen timer
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'flex';
                playSongForCard(currentCard); // Play song for the first card
            }, 7000);
        });
    </script>
</body>
</html>
